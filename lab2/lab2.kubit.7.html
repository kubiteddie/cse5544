<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Kubit Lab 2</title>
        <link rel="stylesheet" href="styles.css">
        <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    </head>
    <body>
        <h1>Eddie Kubit</h1>
        <h2>CSE 5544, Lab 2</h2>
        <hr/>

        <svg width='500' height='500' id="scatterplot_1">

        </svg>

        <hr/>

        <svg width='500' height='500' id="scatterplot_2"></svg>

            <script >
            
            const datalocation = 'GlobalTemperatures.json'

            /*d3.json(datalocation, function(data){
                document.body.innerHTML += data.time
            })*/

                let data = d3.json(datalocation, function(data) {
                        const svgScatter = d3.select('#scatterplot_1');
                        const marginScatter = { top: 20, right: 20, bottom: 40, left: 40 };
                        const widthScatter = +svgScatter.attr("width") - marginScatter.left - marginScatter.right;
                        const heightScatter = +svgScatter.attr("height") - marginScatter.top - marginScatter.bottom;
                
                        const xScatter = d3.scaleLinear()
                                    .domain([d3.min(data, d => d.time), d3.max(data, d => d.time)])
                                    .range([0, widthScatter]);
                
                        const yScatter = d3.scaleBand()
                                    .domain([d3.min(data, d => d.LAT), d3.max(data, d => d.LAT)])
                                    .range([heightScatter, 0]);
                
                        const gScatter = svgScatter.append("g")
                                    .attr("transform", "translate(" + marginScatter.left + "," + marginScatter.top + ")");
                
                        gScatter.selectAll("circle")
                                    .data(data)
                                    .enter().append("circle")
                                    .attr("cx", d => xScatter(d.time))
                                    .attr("cy", d => yScatter(d.LAT))
                                    .attr("r", d => d.LATU) // Circle radius
                                    .attr("fill", "black");
                
                        gScatter.append("g")
                                    .attr("class", "x-axis")
                                    .attr("transform", "translate(0," + heightScatter + ")")
                                    .call(d3.axisBottom(xScatter));
                
                        gScatter.append("g")
                                    .attr("class", "y-axis")
                                    .call(d3.axisLeft(yScatter));
                    })
                    
                
                </script>

        
    </body>
</html>